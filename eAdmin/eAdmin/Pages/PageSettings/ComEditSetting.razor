@inject IHttpService http

<EditFormContext Cancel_Click="Cancel_click" model="setting" is_opened="is_dialog_open" title="@title" Save_Click="SaveSetting_Click" is_submitting="setting.is_saving" modal_width="800px">
    @if (setting.input_type == "date")
    {
        <ComSelectDateFormat label="Date Format" @bind-selected_value="@setting.setting_title" />
    }
    else if (setting.input_type == "datetime")
    {
        <ComSelectDateTimeFormat label="Date Time Format" @bind-selected_value="@setting.setting_title" />
    }
    else
    {
        <TextInput is_read_only="true" label="Setting Value" @bind-text="@setting.setting_title" placeholder="Setting Value" type="@setting.input_type" />
    }
    @*<TextInput placeholder="Setting Value" @bind-text=""/>*@
    @foreach (var b in business_branches)
    {

        <div><ComInputCheckBox @bind-value="b.is_selected" label="@b.business_branch_name_en" /></div>

    }
</EditFormContext>


@code{
    [Parameter] public SettingModel setting { get; set; }
    [Parameter] public bool is_dialog_open { get; set; }
    [Parameter] public string title { get; set; }
    [Parameter] public EventCallback<SettingModel> SaveSetting { get; set; }
    [Parameter] public EventCallback<MouseEventArgs> Cancel_click { get; set; }
    [Parameter] public EventCallback<MouseEventArgs> LoadData { get; set; }
    [Parameter] public List<BusinessBranchModel> business_branches { get; set; }

    protected override async Task OnInitializedAsync()
    {
        await LoadData.InvokeAsync();
    }

    async Task SaveSetting_Click()
    {
        await SaveSetting.InvokeAsync(setting);
    }
} 