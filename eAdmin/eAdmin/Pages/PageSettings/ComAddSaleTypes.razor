@inject ISnackbar toast;
@inject IStringLocalizer<Resource> lang
    <div class="uk-overflow-auto table-scroll">
        <table class="uk-table  view_table set-verticle-middle uk-table-small uk-table-striped uk-table-hover">
            <tr>
                <Th>@lang["Sale Type Name"]</Th>
                <ThCenter>@lang["Color"]</ThCenter>
                <ThCenter>@lang["Is Order Use Table"]</ThCenter>
                <ThCenter>@lang["Sort Order"]</ThCenter>
                <Th></Th>
            </tr>
            @foreach (var p in sale_types.Where(r => r.is_deleted == false))
            {
                <tr>
                    <td><TextInput @bind-text="@p.sale_type_name" placeholder="@lang["Sale Type Name"]" /></td>
                    <TdCenter>
                        <TextInput type="color" @bind-text="@p.color"/>
                    </TdCenter>
                    <TdCenter>
                        <ComInputCheckBox label_inline="true" @bind-value="@p.is_order_use_table" />
                    </TdCenter>
                    <TdCenter>
                        <NumberInputInt class_name="uk-text-center" placeholder="@lang["Sort Order"]" @bind-text="@p.sort_order" />
                    </TdCenter>
                    <TdCenter>
                        <Icon icon="delete" OnClick="@(()=>Delete(p))" is_visible="@(!p.is_build_in)" />
                    </TdCenter>

                </tr>
            }


        </table>
    </div>
    @code {

        [Parameter] public List<SaleTypeModel> sale_types { get; set; }

        SaleTypeModel sale_type = new SaleTypeModel();

        void Delete(SaleTypeModel p)
        {
            if (p.id == Guid.Empty)
            {
                sale_types.Remove(p);
            }
            else
            {
                p.is_deleted = true;
            }
        }

    }
