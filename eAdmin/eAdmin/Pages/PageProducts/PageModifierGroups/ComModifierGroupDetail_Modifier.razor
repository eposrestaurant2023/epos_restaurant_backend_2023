@inject IStringLocalizer<Resource> lang
@inject NavigationManager nav

<UIContainerBox Title="@lang["Modifier"]">
    <table class="uk-table view_small_table set-verticle-middle uk-table-small uk-table-striped uk-table-hover uk-table-middle uk-margin-remove">
        <thead>
            <tr>
                <th rowspan="2" class="vertical-middle">@lang["Modifier Section"]</th>
                <ThCenter colspan="2">@lang["Modifier Item"]</ThCenter>
            </tr>
            <tr>
                <th>@lang["Modifier Name"]</th>
                <ThRight>@lang["Price"]</ThRight>
            </tr>
        </thead>
        <tbody>
            @foreach (var m in modifier_group.modifier_group_items.OrderBy(r=>r.sort_order).ToList())
            {
            <tr>
                <td>
                    <div>
                        <span>@m.section_name</span>
                    </div>
                    <div class="uk-margin-small-top">
                        <LabelIsRequired is_visible="@m.is_required" />
                        <LabelIsMultipleSelect is_visible="@m.is_multiple_select" />
                    </div>
                </td>
                <td colspan="2">
                    @foreach (var c in m.children.OrderBy(r => r.sort_order))
                    {
                        <Grid ClassName="uk-grid-small">
                            <div class="uk-width-expand" uk-leader><a href="@($"modifier/{c.modifier.id}")" target="_blank">@c.modifier?.modifier_name</a></div>
                            <div class="uk-width-auto">@c.price.ToString(gv.main_currency_format)</div>
                        </Grid>
                    }
                </td>
            </tr>
            }
        </tbody>
    </table>
</UIContainerBox>



@code {
    [CascadingParameter] public GlobalVariableModel gv { get; set; }
    [Parameter] public ModifierGroupModel modifier_group { get; set; } = new ModifierGroupModel();
}
