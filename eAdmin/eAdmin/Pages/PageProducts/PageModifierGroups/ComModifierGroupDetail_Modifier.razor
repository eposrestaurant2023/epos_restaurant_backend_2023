@inject IStringLocalizer<Resource> lang
@inject NavigationManager nav

<UIContainerBox Title="Modifier">
    @foreach (var s in modifier_group.modifier_group_items.Where(r => r.is_section == true).OrderBy(r => r.sort_order))
    {
        <TextInput is_read_only="true" @bind-text="@s.section_name" label="Section Name" />
        <div class="uk-child-width-1-3@s" uk-grid>
            <div>
                <div class="uk-panel">
                    <ComInputCheckBox label_inline="true" is_read_only="true" @bind-value="@s.is_required" label="Is Required" />
                </div>
            </div>
            <div>
                <div class="uk-panel">
                    <ComInputCheckBox label_inline="true" is_read_only="true" @bind-value="@s.is_multiple_select" label="Allow Multiple Select" />
                </div>
            </div>
        </div>
        <table class="uk-table  view_table set-verticle-middle uk-table-small uk-table-striped uk-table-hover">
            <tr>
                <Th>@lang["Modifier Name"]</Th>
                <ThRight>@lang["Price"]</ThRight>
            </tr>
            @foreach (var m in s.children.Where(r => r.is_deleted == false).OrderBy(r => r.sort_order))
            {
                <tr>
                    <td>
                        <ComAuthorize roles="@gv.GetRole("modifier_view")" OnClick="@(()=>nav.NavigateTo($"modifier/{m.modifier_id}"))">
                            @m.modifier?.modifier_name
                        </ComAuthorize>
                    </td>
                    <TdRight>
                        @m.price.ToString(gv.currency_format)
                    </TdRight>
                </tr>
            }
        </table>
        <hr />
    }
</UIContainerBox>



@code {
    [CascadingParameter] public GlobalVariableModel gv { get; set; }
    [Parameter] public ModifierGroupModel modifier_group { get; set; } = new ModifierGroupModel();
}
