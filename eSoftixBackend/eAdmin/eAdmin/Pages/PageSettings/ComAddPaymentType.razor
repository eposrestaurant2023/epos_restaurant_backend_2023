@inherits PageCore;
 
    <EditFormContext Cancel_Click="Cancel_click" model="@model" is_opened="is_dialog_open" title="@modal_title" Save_Click="SaveContactPerson_Click" modal_width="800px">
        <FileUpload @bind-ImageUrl="@model.photo" />
        <TextInput label="Payment Type Name" @bind-text="@model.payment_type_name_en">
            <ValidationMessage For="@(()=>model.payment_type_name_en)" />
        </TextInput>   
        <TextInput label="Payment Type Name" @bind-text="@model.payment_type_name_kh">
            <ValidationMessage For="@(()=>model.payment_type_name_kh)" />
        </TextInput>
        <NumberInputInt @bind-text="@model.sort_order" label="Sort Order" width="100%" />
        <TextInput label="Note" @bind-text="@model.note" type="textarea" />
        
        <SelectStatus @bind-selected_value="@model.status" />
    </EditFormContext>
@code{
    [Parameter] public PaymentTypeModel model { get; set; } = new PaymentTypeModel();
    [Parameter] public string modal_title { get; set; }
    [Parameter] public bool is_dialog_open { get; set; }
    [Parameter] public EventCallback<PaymentTypeModel> Save_Click { get; set; }
    [Parameter] public EventCallback<MouseEventArgs> Cancel_click { get; set; }


    async Task SaveContactPerson_Click()
    {
        is_saving = true;
        var res = await http.ApiPost("PaymentType/save", model);
        if (res.IsSuccess)
        {
            model = JsonSerializer.Deserialize<PaymentTypeModel>(res.Content.ToString());
            toast.Add("Save Successfully", MatToastType.Success);
            await Save_Click.InvokeAsync(model);
        }
        is_saving = false;
    }

}