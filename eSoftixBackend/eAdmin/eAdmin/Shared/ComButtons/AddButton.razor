@if (is_visible)
{
    if (roles == "")
    {

          if (url != "")
            {
            @if(ChildContent == null)
            {
                <MudIconButton Variant="Variant.Text" Icon="@Icons.Material.Filled.Add" Link="@url" Disabled="@disabled" Size="Size.Medium" Class="ma-2"/>
            }else{
                <MudButton Variant="Variant.Text" StartIcon="@Icons.Material.Filled.Add" Link="@url" Disabled="@disabled" Size="Size.Medium" Class="ma-2">@ChildContent</MudButton>
            }

}
            else
            {

            @if (ChildContent == null)
            {
                <MudIconButton Variant="Variant.Text"  Icon="@Icons.Material.Filled.Add" OnClick="OnClick"  Disabled="@disabled" Size="Size.Medium" Class="ma-2"/>
            }else
            {
                <MudButton Variant="Variant.Text"  StartIcon="@Icons.Material.Filled.Add" OnClick="OnClick"  Disabled="@disabled" Size="Size.Medium" Class="ma-2">@ChildContent</MudButton>
            }
}
        
    }
    else
    {
        <AuthorizeView Roles="@roles">
             @if (url != "")
            {
                @if (ChildContent == null)
            {
                <MudIconButton Variant="Variant.Text"  Icon="@Icons.Material.Filled.Add" Link="@url" Disabled="@disabled" Size="Size.Medium" Class="ma-2"/>
                }else
                {
                <MudButton Variant="Variant.Text"  StartIcon="@Icons.Material.Filled.Add" Link="@url" Disabled="@disabled" Size="Size.Medium" Class="ma-2">@ChildContent</MudButton>
                }
    }
            else
            {
                
                  @if (ChildContent == null)
            {
                 <MudIconButton Variant="Variant.Text"  Icon="@Icons.Material.Filled.Add" OnClick="OnClick"  Disabled="@disabled" Size="Size.Medium" Class="ma-2"/>
                 }else {
                     <MudButton Variant="Variant.Text"  StartIcon="@Icons.Material.Filled.Add" OnClick="OnClick"  Disabled="@disabled" Size="Size.Medium" Class="ma-2">@ChildContent</MudButton>
                 }
            }
        
        </AuthorizeView>
    }
}






@code{
    
   
    [Parameter] public string roles { get; set; } = "";
    [Parameter] public bool is_visible { get; set; } = true;
    [Parameter] public string url { get; set; } = "";
    [Parameter] public bool disabled { get; set; } = false;
    [Parameter] public bool spinning { get; set; } = false;
    [Parameter] public RenderFragment ChildContent { get; set; }
    [Parameter] public EventCallback<MouseEventArgs> OnClick { get; set; }


}