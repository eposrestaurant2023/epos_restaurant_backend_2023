import{_ as g,j as L,r as h,o as n,b as r,t as b,d as c,e as v,c as _,i as m,m as f,F as y,f as I,B as V,D as w,a as D,n as A,g as B,k as p,w as k,l as N,p as C}from"./index-53d9811e.js";const S={name:"Input",inheritAttrs:!1,expose:["getInputValue"],components:{FeatherIcon:L},props:{label:{type:String},type:{type:String,default:"text",validator(t){let l=["text","number","checkbox","textarea","select","email","password","date"].includes(t);return l||console.warn(`Invalid value "${t}" for "type" prop for Input`),l}},modelValue:{type:[String,Number,Boolean,Object,Array]},inputClass:{type:[String,Array,Object]},debounce:{type:Number},options:{type:Array},disabled:{type:Boolean},rows:{type:Number,default:3},placeholder:{type:String},iconLeft:{type:String}},emits:["input","change","update:modelValue"],methods:{focus(){this.$refs.input.focus()},blur(){this.$refs.input.blur()},getInputValue(t){let l=t?t.target:this.$refs.input,e=l.value;return this.type=="checkbox"&&(e=l.checked),e}},computed:{passedInputValue(){return"value"in this.$attrs?this.$attrs.value:this.modelValue||null},inputAttributes(){let t={},l=e=>{this.$emit("input",this.getInputValue(e))};return this.debounce&&(l=K(l,this.debounce)),this.type=="checkbox"&&(t.checked=this.passedInputValue),Object.assign(t,this.$attrs,{onInput:l,onChange:e=>{this.$emit("change",this.getInputValue(e)),this.$emit("update:modelValue",this.getInputValue(e))}})},selectOptions(){return this.options.map(t=>typeof t=="string"?{label:t,value:t}:t).filter(Boolean)},isNormalInput(){return["text","number","checkbox","email","password","date"].includes(this.type)}}},F={key:0,class:"mb-2 block text-sm leading-4 text-gray-700"},O=["type","disabled","placeholder","value"],R=["placeholder","value","disabled","rows"],j=["disabled"],U=["value","disabled","selected"],z={key:1,class:"ml-2 inline-block text-base leading-4"};function P(t,l,e,u,s,a){const d=h("FeatherIcon");return n(),r("label",{class:m([e.type=="checkbox"?"flex":"block",t.$attrs.class])},[e.label&&e.type!="checkbox"?(n(),r("span",F,b(e.label),1)):c("",!0),v("div",{class:m(["relative flex",{"items-center":a.isNormalInput||e.type=="select"}])},[e.iconLeft&&e.type!="checkbox"?(n(),_(d,{key:0,name:e.iconLeft,class:m(["absolute mx-2 h-4 w-4 text-gray-600",{"mt-2":e.type=="textarea"}])},null,8,["name","class"])):c("",!0),a.isNormalInput?(n(),r("input",f({key:1},a.inputAttributes,{class:["border-gray-400 placeholder-gray-500",[{"form-input block w-full":e.type!="checkbox","form-checkbox":e.type=="checkbox","pl-8":e.iconLeft&&e.type!="checkbox"},e.inputClass]],ref:"input",type:e.type||"text",disabled:e.disabled,placeholder:e.placeholder,value:a.passedInputValue}),null,16,O)):c("",!0),e.type==="textarea"?(n(),r("textarea",f({key:2},a.inputAttributes,{placeholder:e.placeholder,class:["placeholder-gray-500",["form-textarea block w-full resize-none",e.inputClass,{"pl-8":e.iconLeft}]],ref:"input",value:a.passedInputValue,disabled:e.disabled,rows:e.rows}),null,16,R)):c("",!0),e.type==="select"?(n(),r("select",f({key:3},a.inputAttributes,{class:["form-select block w-full",{"pl-8":e.iconLeft}],ref:"input",disabled:e.disabled}),[(n(!0),r(y,null,I(a.selectOptions,i=>(n(),r("option",{key:i.value,value:i.value,disabled:i.disabled||!1,selected:a.passedInputValue===i.value},b(i.label),9,U))),128))],16,j)):c("",!0)],2),e.label&&e.type=="checkbox"?(n(),r("span",z,b(e.label),1)):c("",!0)],2)}const T=g(S,[["render",P]]);function K(t,l,e){var u;return function(){var s=this,a=arguments,d=function(){u=null,e||t.apply(s,a)},i=e&&!u;clearTimeout(u),u=setTimeout(d,l),i&&t.apply(s,a)}}const M={name:"InsertLink",props:["editor"],components:{Button:V,Input:T,Dialog:w},data(){return{setLinkDialog:{url:"",show:!1}}},methods:{openDialog(){let t=this.editor.getAttributes("link").href;t&&(this.setLinkDialog.url=t),this.setLinkDialog.show=!0},setLink(t){t===""?this.editor.chain().focus().extendMarkRange("link").unsetLink().run():this.editor.chain().focus().extendMarkRange("link").setLink({href:t}).run(),this.setLinkDialog.show=!1,this.setLinkDialog.url=""},reset(){this.setLinkDialog=this.$options.data().setLinkDialog}}};function E(t,l,e,u,s,a){const d=h("Input"),i=h("Button"),x=h("Dialog");return n(),r(y,null,[D(t.$slots,"default",A(B({onClick:a.openDialog}))),p(x,{options:{title:"Set Link"},modelValue:s.setLinkDialog.show,"onUpdate:modelValue":l[3]||(l[3]=o=>s.setLinkDialog.show=o),onAfterLeave:a.reset},{"body-content":k(()=>[p(d,{type:"text",label:"URL",modelValue:s.setLinkDialog.url,"onUpdate:modelValue":l[0]||(l[0]=o=>s.setLinkDialog.url=o),onKeydown:l[1]||(l[1]=N(o=>a.setLink(o.target.value),["enter"]))},null,8,["modelValue"])]),actions:k(()=>[p(i,{appearance:"primary",onClick:l[2]||(l[2]=o=>a.setLink(s.setLinkDialog.url))},{default:k(()=>[C(" Save ")]),_:1})]),_:1},8,["modelValue","onAfterLeave"])],64)}const G=g(M,[["render",E]]);export{G as default};
