{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2022-12-27 13:57:28.195219",
 "css": "\r\n.report-list {\r\n    margin-top: 10px !important;\r\n    margin-bottom: 10px !important;\r\n}\r\n.report-list td,.tbl-payment-list td {\r\n    padding-top: 6px!important;\r\n    padding-bottom: 6px!important;\r\n}\r\n.tbl-list tr td,.tbl-list-summary table tr td {\r\n    padding: 4px 0px !important;\r\n    font-size: 13px !important;\r\n}\r\n.tbl-list tr td:nth-child(2), .tbl-list-summary table tr td:nth-child(2){\r\n    padding-left: 4px !important;\r\n    padding-right: 4px !important;\r\n}\r\n.tbl-list-right tr td:nth-child(3), .tbl-list-summary table tr td:nth-child(3){\r\n    text-align: right;\r\n}\r\n.report-list thead {\r\n    background: #f3f3f3;\r\n}\r\n.report-list thead tr th {\r\n    color: #000;\r\n    font-weight: 600;\r\n}\r\n.report-list th, .report-list td {\r\n    border: 1px solid #d9d9d9 !important;\r\n}\r\n.tbl-list-summary table tr td:nth-child(3) {\r\n    min-width: 100px;\r\n}\r\n.tbl-payment-list tbody td {\r\n    border-top: none !important;\r\n}\r\n.tbl-payment-list thead {\r\n    border-bottom: 1px solid #d9d9d9;\r\n    font-weight: 600;\r\n}",
 "custom_format": 0,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Sale",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<h4 class=\\\"text-center\\\">{{_(\\\"Sale\\\")}}</h4>\\r\\n<div class=\\\"text-center\\\" style=\\\"text-transform: uppercase;\\\">\\r\\n    {% if doc.docstatus == 1 %}\\r\\n        <span>\\r\\n        {% if doc.balance == 0 and doc.is_free == 1%}\\r\\n            <span><strong>{{_(\\\"Paid\\\")}}</strong></span>\\r\\n        {% endif %}\\r\\n        {% if doc.total_paid > 0 and doc.balance > 0 %}\\r\\n            <span><strong>{{_(\\\"Partially Paid\\\")}}</strong></span>\\r\\n        {% endif %}\\r\\n        {%if doc.is_free == 0%}\\r\\n            {% if doc.total_paid == 0 %}\\r\\n                <span><strong>{{_(\\\"Unpaid\\\")}}</strong></span>\\r\\n            {% endif %}\\r\\n        {%endif%}\\r\\n        </span>\\r\\n    {% endif %}\\r\\n</div>\\r\\n<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-xs-6\\\">\\r\\n{% if doc.customer %}\\r\\n{% set customer = frappe.get_doc('Customer',doc.customer,['*']) %}\\r\\n            {% if customer %}\\r\\n        <table class=\\\"tbl-list\\\">\\r\\n            <tr>\\r\\n                <td><strong>{{_(\\\"Customer Code\\\")}}</strong></td>\\r\\n                <td>:</td>\\r\\n                <td><strong>{{customer.name}}</strong></td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n                <td><strong>{{_(\\\"Customer Name\\\")}}</strong></td>\\r\\n                <td>:</td>\\r\\n                <td><strong>{{customer.customer_name_en}}</strong></td>\\r\\n            </tr>\\r\\n            {% if customer.company_name %}\\r\\n            <tr>\\r\\n                <td><strong>{{_(\\\"Company\\\")}}</strong></td>\\r\\n                <td>:</td>\\r\\n                <td><strong>{{customer.company_name}}</strong></td>\\r\\n            </tr>\\r\\n            {% endif %}\\r\\n            {% if customer.phone_number %}\\r\\n            <tr>\\r\\n                <td><strong>{{_(\\\"Phone Number\\\")}}</strong></td>\\r\\n                <td>:</td>\\r\\n                <td><strong>{{customer.phone_number}}</strong></td>\\r\\n            </tr>\\r\\n            {% endif %}\\r\\n        </table>\\r\\n            {% endif %}\\r\\n  {% endif %}\\r\\n   </div>\\r\\n    <div class=\\\"col-xs-4\\\">\\r\\n        \\r\\n        </div>\\r\\n    <div class=\\\"col-xs-6\\\">\\r\\n        <table class=\\\"tbl-list ml-auto tbl-list-right\\\">\\r\\n            <tr>\\r\\n                <td><strong>{{_(\\\"Sale #\\\")}}</strong></td>\\r\\n                <td>:</td>\\r\\n                <td><strong>{{doc.name}}</strong></td>\\r\\n            </tr>\\r\\n            {% if doc.referance %}\\r\\n            <tr>\\r\\n                <td><strong>{{_(\\\"Ref #\\\")}}</strong></td>\\r\\n                <td>:</td>\\r\\n                <td><strong>{{doc.referance}}</strong></td>\\r\\n            </tr>\\r\\n            {% endif %}\\r\\n            <tr>\\r\\n                <td><strong>{{_(\\\"Date\\\")}}</strong></td>\\r\\n                <td>:</td>\\r\\n                <td><strong>{{doc.posting_date}}</strong></td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n                <td><strong>{{_(\\\"Branch\\\")}}</strong></td>\\r\\n                <td>:</td>\\r\\n                <td><strong>{{doc.business_branch}}</strong></td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n                <td><strong>{{_(\\\"Stock Location\\\")}}</strong></td>\\r\\n                <td>:</td>\\r\\n                <td><strong>{{doc.stock_location}}</strong></td>\\r\\n            </tr>\\r\\n        </table>\\r\\n    </div>\\r\\n</div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Product List\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{% \\r\\n    set sale_transactions = frappe.db.sql(\\\"\\r\\n    select \\r\\n        p.product_code,\\r\\n        sum(p.quantity) as qty, \\r\\n        p.price, \\r\\n        p.unit,\\r\\n        concat(p.product_name,if(coalesce(p.portion,'')='','',concat('-', p.portion)),\\r\\n        if(coalesce(p.modifiers,'')='','',concat('-', p.modifiers)),\\r\\n        if(p.is_free=1,'-Free','')) \\r\\n        as product_name,\\r\\n        sum(p.sub_total) as amount,\\r\\n        s.customer_name \\r\\n    from \\r\\n        `tabSale Product` p \\r\\n    inner join\\r\\n        `tabSale` s on s.name = p.parent \\r\\n    where \\r\\n        s.name = '{}' \\r\\n    group by \\r\\n        p.product_name,\\r\\n        p.price,\\r\\n        p.portion,\\r\\n        p.modifiers,\\r\\n        p.unit\\r\\n    \\\".format(doc.name),as_dict=1)%}\\r\\n<table class=\\\"table table-bordered report-list\\\">\\r\\n    <thead>\\r\\n        <tr>\\r\\n            <th>{{_(\\\"No\\\")}}</th>\\r\\n            <th>{{_(\\\"Description\\\")}}</th>\\r\\n            <th class=\\\"text-center\\\">{{_(\\\"QTY\\\")}}</th>\\r\\n            <th class=\\\"text-center\\\">{{_(\\\"Unit\\\")}}</th>\\r\\n            <th class=\\\"text-right\\\">{{_(\\\"Price\\\")}}</th>\\r\\n            <th class=\\\"text-right\\\">{{_(\\\"Amount\\\")}}</th>\\r\\n        </tr>\\r\\n    </thead>\\r\\n    <tbody>\\r\\n        {% for p in sale_transactions %}\\r\\n        <tr>\\r\\n            <td>{{sale_transactions.index(p)+1}}</td>\\r\\n            <td>{{p.product_code}} - {{p.product_name}}</td>\\r\\n            <td class=\\\"text-center\\\">{{p.qty}}</td>\\r\\n            <td class=\\\"text-center\\\">{{p.unit}}</td>\\r\\n            <td class=\\\"text-right\\\">{{ frappe.format_value(p.price,\\\"Currency\\\") }}</td>\\r\\n            <td class=\\\"text-right\\\">{{frappe.format_value(p.amount,\\\"Currency\\\")}}</td>\\r\\n        {% endfor %}\\r\\n    </tbody>\\r\\n</table>\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-xs-6\\\">\\r\\n            {% set payments = frappe.get_list('Sale Payment',filters={\\r\\n            'sale': doc.name,'docstatus':1},fields=['*'],order_by='posting_date asc') %}\\r\\n            {% if payments %}\\r\\n            {% for payment in payments %}\\r\\n            <p>Paid on <b>{{payment.posting_date}}</b> by {{payment.payment_type}} : <b>{{frappe.format_value(payment.payment_amount, \\\"Currency\\\")}}</b></p>\\r\\n            {% endfor %}\\r\\n            {% endif %}\\r\\n        </div>\\r\\n    <div class=\\\"col-xs-6\\\">\\r\\n    <div class=\\\"tbl-list-summary\\\">\\r\\n        <table class=\\\"ml-auto\\\">\\r\\n            <tr>\\r\\n                <td><strong>{{_(\\\"Total Quantity\\\")}}</strong></td>\\r\\n                <td>:</td>\\r\\n                <td><strong>{{doc.total_quantity}}</strong></td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n                <td><strong>{{_(\\\"Sub Total\\\")}}</strong></td>\\r\\n                <td>:</td>\\r\\n                <td><strong>{{frappe.format_value(doc.sub_total,\\\"Currency\\\")}}</strong></td>\\r\\n            </tr>\\r\\n            {% if doc.total_discount > 0 %}\\r\\n            <tr>\\r\\n                <td><strong>{{_(\\\"Total Discount\\\")}}</strong></td>\\r\\n                <td>:</td>\\r\\n                <td><strong>{{ frappe.format_value(doc.total_discount,\\\"Currency\\\") }}</strong></td>\\r\\n            </tr>\\r\\n            {% endif %}\\r\\n            {% if doc.total_tax > 0 %}\\r\\n            <tr>\\r\\n                <td><strong>{{_(\\\"Total Tax\\\")}}</strong></td>\\r\\n                <td>:</td>\\r\\n                <td><strong>{{ frappe.format_value(doc.total_tax,\\\"Currency\\\") }}</strong></td>\\r\\n            </tr>\\r\\n            {% endif %}\\r\\n            <tr>\\r\\n                <td><strong>{{_(\\\"Grand Total\\\")}}</strong></td>\\r\\n                <td>:</td>\\r\\n                <td><strong>{{frappe.format_value(doc.grand_total,\\\"Currency\\\")}}</strong></td>\\r\\n            </tr>\\r\\n            {% if doc.total_paid > 0 %}\\r\\n            <tr>\\r\\n                <td><strong>{{_(\\\"Total Paid\\\")}}</strong></td>\\r\\n                <td>:</td>\\r\\n                <td><strong>{{frappe.format_value(doc.total_paid,\\\"Currency\\\")}}</strong></td>\\r\\n            </tr>\\r\\n            {% endif %}\\r\\n            {% if doc.balance > 0 %}\\r\\n            <tr>\\r\\n                <td><strong>{{_(\\\"Balance\\\")}}</strong></td>\\r\\n                <td>:</td>\\r\\n                <td><strong>{{frappe.format_value(doc.balance,\\\"Currency\\\")}}</strong></td>\\r\\n            </tr>\\r\\n            {% endif %}\\r\\n            {% if doc.changed_amount > 0 %}\\r\\n            <tr>\\r\\n                <td><strong>{{_(\\\"Change\\\")}}</strong></td>\\r\\n                <td>:</td>\\r\\n                <td><strong>{{frappe.format_value(doc.changed_amount,\\\"Currency\\\")}}</strong></td>\\r\\n            </tr>\\r\\n            {% endif %}\\r\\n        </table>\\r\\n    </div>\\r\\n</div>\\r\\n</div>\"}]",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 5.0,
 "margin_left": 10.0,
 "margin_right": 10.0,
 "margin_top": 5.0,
 "modified": "2023-03-21 18:06:58.494841",
 "modified_by": "Administrator",
 "module": "Selling",
 "name": "Sale Invoice A4",
 "owner": "Administrator",
 "page_number": "Bottom Center",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "print_invoice_copies": 0,
 "print_receipt_copies": 0,
 "raw_printing": 0,
 "receipt_height": 11.0,
 "receipt_margin_bottom": 0.0,
 "receipt_margin_left": 0.0,
 "receipt_margin_right": 0.0,
 "receipt_margin_top": 0.0,
 "receipt_width": 3.14,
 "show_in_pos": 1,
 "show_in_pos_report": 1,
 "show_section_headings": 0,
 "sort_order": 0,
 "standard": "Yes",
 "title": "Sale Invoice"
}