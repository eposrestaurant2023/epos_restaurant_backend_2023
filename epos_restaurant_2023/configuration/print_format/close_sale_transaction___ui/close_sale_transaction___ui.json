{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2023-03-22 12:12:32.354294",
 "css": "html {\n    overflow-x: hidden;\n}\n/* width */\n::-webkit-scrollbar {\n\twidth: 5px;\n}\n\n/* Track */\n::-webkit-scrollbar-track {\n\tbox-shadow: inset 0 0 5px rgb(206, 206, 206);\n\tborder-radius: 10px;\n}\n\n/* Handle */\n::-webkit-scrollbar-thumb {\n\tbackground: rgb(165, 165, 165);\n\tborder-radius: 10px;\n}\n.print-format-gutter {\n    padding: 0px !important;\n}\n.print-format {\n    border-radius: 0px !important;\n    max-width: 100% !important;\n    min-height: auto !important;\n    padding: 4px !important;\n    width:100%;\n    margin: auto;\n}\n.empty {\n    text-align: center;\n    color: #8f8f8f !important;\n    padding: 14px !important;\n    font-style: italic;\n}\na{\n    cursor:pointer;\n}\n.fit-content {\n    white-space: nowrap;\n    width: 100%;\n}\ntable tr td {\n    font-size: 14px;\n}\n.text-sm {\n    font-size: 12px;\n}\n",
 "custom_format": 0,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "POS Profile",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<div style=\\\"display:none\\\"></div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{% set with_payment = \\\"\\\" %}\\n{% set inner_join_payment = \\\"\\\" %}\\n\\n{%\\n    set filter=\\\"\\n        s.docstatus=1 and \\n        s.working_day=if('{0}'='',s.working_day,'{0}') and \\n        s.cashier_shift =if('{1}'='',s.cashier_shift,'{1}') and\\n        s.name like if('{2}'='',s.name,'%{2}%') and \\n        ifnull(s.outlet,'') = if('{3}'='',ifnull(s.outlet,''),'{3}') and \\n        ifnull(s.tbl_group,'') = if('{4}'='',ifnull(s.tbl_group,''),'{4}') and \\n        ifnull(s.sale_type,'') = if('{5}'='',ifnull(s.sale_type,''),'{5}')\\n    \\\".format(\\n        frappe.form_dict.get(\\\"working_day\\\") or '',\\n        frappe.form_dict.get(\\\"cashier_shift\\\") or '',\\n        frappe.form_dict.get(\\\"keyword\\\") or '',\\n        frappe.form_dict.get(\\\"outlet\\\") or '',\\n        frappe.form_dict.get(\\\"table_group\\\") or '',\\n        frappe.form_dict.get(\\\"sale_type\\\") or ''\\n    )\\n%}\\n\\n\\n{% if frappe.form_dict.get(\\\"payment_type\\\") %}\\n    {% \\n        set with_payment = \\\"\\n            with p as (\\n                select sale from `tabSale Payment`\\n                where\\n                    docstatus = 1 and \\n                    working_day = if('{0}' = '', working_day, '{0}') and \\n                    cashier_shift = if('{1}' = '', cashier_shift, '{1}') and \\n                    payment_type = '{2}'\\n            )\\n        \\\".format(\\n            frappe.form_dict.get(\\\"working_day\\\") or '',\\n            frappe.form_dict.get(\\\"cashier_shift\\\") or '',\\n            frappe.form_dict.get(\\\"payment_type\\\"),\\n        )\\n    \\n    %}\\n    {%\\n        set inner_join_payment = \\\"\\n            inner join p on p.sale = s.name\\n        \\\"\\n    %}\\n{% endif %}\\n\\n\\n{%\\n    \\n    set sql = \\\"\\n        {0}\\n        select \\n            cashier_shift,\\n            name,\\n            sale_type,\\n            posting_date,\\n            customer,\\n            customer_name,\\n            total_quantity,\\n            grand_total,\\n            s.total_paid,\\n            s.balance,\\n            is_foc,\\n            sale_type_color,\\n            modified\\n        from `tabSale` s\\n            {1}\\n        where\\n            {2}\\n        order by \\n        {3} {4}\\n    \\\".format(\\n        with_payment,\\n        inner_join_payment,\\n        filter, \\n        frappe.form_dict.get(\\\"order_by\\\"), \\n        frappe.form_dict.get(\\\"order_by_type\\\")\\n    )\\n%}\\n\\n\\n{%\\n    set data = frappe.db.sql(sql, as_dict=1)\\n%}\\n<div class=\\\"table-responsive\\\">\\n\\n<table class=\\\"table table-hover fit-content\\\">\\n    <thead>\\n        <tr>\\n            <th class=\\\"text-center\\\">{{_(\\\"N.O\\\")}}</th>\\n            <th>{{_(\\\"Receipt #\\\")}} </th>\\n            <th class=\\\"text-center\\\">{{_(\\\"Date\\\")}} </th>\\n            <th>{{_(\\\"Customer\\\")}}</th>\\n            <th class=\\\"text-center\\\">{{_(\\\"Quantity\\\")}}</th>\\n            <th class=\\\"text-end\\\">{{_(\\\"Amount\\\")}}</th>\\n            <th class=\\\"text-end\\\">{{_(\\\"Paid\\\")}}</th>\\n            <th class=\\\"text-end\\\">{{_(\\\"Balance\\\")}}</th>\\n            <th class=\\\"text-center\\\">{{_(\\\"Status\\\")}}</th>\\n        </tr>\\n    </thead>\\n    <tbody>\\n        {% for d in data %}\\n        <tr>\\n            <td class=\\\"text-center\\\">{{data.index(d) + 1}}</td>\\n            <td>\\n                <a onclick=\\\"window.parent.postMessage('view_sale_detail|{{d.name}}', '*')\\\">{{d.name}}</a>    \\n                <br/> \\n                {% if d.sale_type %}\\n                <span style=\\\"background:{{d.sale_type_color}};padding:1px 4px 4px 4px;border-radius:8px;color:#fff;font-size:12px;\\\">{{d.sale_type}} </span>\\n                {% endif %}\\n                <a onclick=\\\"window.parent.postMessage('view_cashier_shift|{{d.cashier_shift}}', '*')\\\"\\n                style=\\\"background:#e1aa0f;margin-left:4px;padding:1px 4px 4px 4px;border-radius:8px;color:#fff;font-size:12px;\\\">{{d.cashier_shift}} </a>\\n            </td>\\n            <td class=\\\"text-center\\\">\\n                <div>{{ frappe.format_value(d.posting_date,\\\"Date\\\")}}</div>\\n                <div class=\\\"text-sm\\\">{{frappe.utils.pretty_date(d.modified)}}</div>\\n            </td>\\n            <td><a onclick=\\\"window.parent.postMessage('view_customer|{{d.customer}}', '*')\\\">{{d.customer}} <br/> {{d.customer_name}}</td>\\n            <td class=\\\"text-center\\\">{{d.total_quantity}}</td>\\n            <td class=\\\"text-end\\\">{{frappe.format_value(d.grand_total,\\\"Currency\\\")}}</td>\\n            <td class=\\\"text-end\\\">{{frappe.format_value(d.total_paid,\\\"Currency\\\")}}</td>\\n            <td class=\\\"text-end\\\">{{frappe.format_value(d.balance,\\\"Currency\\\")}}</td>\\n            <td class=\\\"text-center\\\">\\n                {% if d.is_foc%}\\n                    <span class=\\\"badge rounded-pill text-bg-primary\\\">{{_(\\\"FOC\\\")}}</span>\\n                {% elif d.balance==0 %}\\n                    <span class=\\\"badge rounded-pill text-bg-success\\\">{{_(\\\"Paid\\\")}}</span>\\n                {% elif d.total_paid> 0 and d.balance> 0 %}\\n                    <span class=\\\"badge rounded-pill text-bg-warning\\\">{{_(\\\"Partially Paid\\\")}}</span>\\n                {% elif d.total_paid== 0 and d.grand_total> 0 %}\\n                    <span class=\\\"badge rounded-pill text-bg-danger\\\">{{_(\\\"Unpaid\\\")}}</span>\\n                {% endif %}\\n            </td>\\n        </tr>\\n        {% else %}\\n          <tr>\\n              <td class=\\\"empty\\\" colspan=\\\"9\\\">No record found</td>\\n          </tr>\\n        {% endfor %}\\n    </tbody>\\n    <tfoot>\\n        <tr>\\n            <th colspan=\\\"3\\\" >{{_(\\\"Total\\\")}}</th>\\n            <th>{{data|length}}</th>\\n            <th class=\\\"text-center\\\">{{data | sum(attribute='total_quantity')}}</th>\\n            <th class=\\\"text-end\\\">{{frappe.format_value(data | sum(attribute='grand_total'),\\\"Currency\\\")}}</th>\\n            <th class=\\\"text-end\\\">{{frappe.format_value(data | sum(attribute='total_paid'),\\\"Currency\\\")}}</th>\\n            <th class=\\\"text-end\\\">{{frappe.format_value(data | sum(attribute='balance'),\\\"Currency\\\")}}</th>\\n            <th></th>\\n        </tr>\\n    </tfoot>\\n</table>\\n</div>\\n\\n\"}]",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2023-03-24 17:49:17.900829",
 "modified_by": "Administrator",
 "module": "Configuration",
 "name": "Close Sale Transaction - UI",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "print_invoice_copies": 1,
 "print_receipt_copies": 1,
 "raw_printing": 0,
 "receipt_height": 11.0,
 "receipt_margin_bottom": 0.0,
 "receipt_margin_left": 0.0,
 "receipt_margin_right": 0.0,
 "receipt_margin_top": 0.0,
 "receipt_width": 3.14,
 "report_options": "{\"show_keyword\":\"1\", \"show_cashier_shift\":\"1\",\"show_outlet\":\"1\",\"show_table_group\":\"1\",\"show_payment_type\":\"1\",\"show_sale_type\":\"1\",\"show_order_by\":\"1\",\"show_group_by\":\"1\"}",
 "show_in_pos": 0,
 "show_in_pos_closed_sale": 1,
 "show_in_pos_report": 0,
 "show_section_headings": 0,
 "sort_order": 2,
 "standard": "Yes",
 "title": "Sale Transaction"
}